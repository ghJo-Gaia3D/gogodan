<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>구구단</title>
    <script>
        window.onload = function() {
            let frontNum = document.getElementById("frontNumber");
            let backNum = document.getElementById("backNumber"); 
            backNum.addEventListener("change", makeResult);

            setNumber(frontNum);
            setNumber(backNum);
        }    

        function setNumber(node) {
            for(let s = 0; s < 9; s++) {
                let value = s + 1;
                let newOption = document.createElement("option");
                newOption.setAttribute("value", value);
                newOption.text = value;
                node.appendChild(newOption);
            }
        }

        function makeResult() {
            delBox();

            let front = document.getElementById("frontNumber").value;
            let back = document.getElementById("backNumber").value;
            let result = document.getElementById("result");

            let makeTable = document.createElement("table");
            makeTable.setAttribute("border", 1);

            for(let i = 1; i<=front; i++) {
                let makeTh = document.createElement("th");
                let thText = document.createTextNode(i + "단");
                makeTh.appendChild(thText);   
                makeTable.appendChild(makeTh);
            }
            
            for(let j = 1; j <= back; j++) {
                let makeTr = document.createElement("tr");
                makeTable.appendChild(makeTr)
                for(let i = 1; i<=front; i++) {
                    let makeTd = document.createElement("td");
                    let tdText = document.createTextNode( i + " X " + j + " = " + i * j);
                    makeTd.appendChild(tdText);
                    makeTable.appendChild(makeTd);
                }
            }
            result.appendChild(makeTable);
        }

        function delBox() {
            let delResult = document.getElementById('result');
            while (delResult.hasChildNodes()) {
                delResult.removeChild(delResult.firstChild);
            }
        }

    </script>
</head>
<body>
    <select id="frontNumber"></select>
    <span>X</span>
    <select id="backNumber"></select>

    <div id="result"></div>

</body>
</html>